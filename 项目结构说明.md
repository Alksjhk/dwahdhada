# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ æ•´ä½“ç»“æ„

```
web-chat-system/
â”œâ”€â”€ .claude/                    # Claude AI é…ç½®
â”œâ”€â”€ .git/                       # Git ç‰ˆæœ¬æ§åˆ¶
â”œâ”€â”€ .vscode/                    # VS Code é…ç½®
â”œâ”€â”€ client/                     # å‰ç«¯é¡¹ç›®
â”œâ”€â”€ server/                     # åç«¯é¡¹ç›®
â”œâ”€â”€ node_modules/               # æ ¹ç›®å½•ä¾èµ–
â”œâ”€â”€ .gitignore                  # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ package.json                # æ ¹ç›®å½•åŒ…é…ç½®
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â””â”€â”€ æ–‡æ¡£æ–‡ä»¶...                 # å„ç§è¯´æ˜æ–‡æ¡£
```

## ğŸ¯ å‰ç«¯é¡¹ç›® (client/)

```
client/
â”œâ”€â”€ node_modules/               # å‰ç«¯ä¾èµ–
â”œâ”€â”€ public/                     # é™æ€èµ„æº
â”‚   â””â”€â”€ vite.svg               # Vite å›¾æ ‡
â”œâ”€â”€ scripts/                    # æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ setup-env.js           # ç¯å¢ƒè®¾ç½®è„šæœ¬
â”œâ”€â”€ src/                        # æºä»£ç 
â”‚   â”œâ”€â”€ assets/                # é™æ€èµ„æº
â”‚   â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ context/               # React Context
â”‚   â”œâ”€â”€ hooks/                 # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ styles/                # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ types/                 # TypeScript ç±»å‹
â”‚   â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ App.css                # ä¸»åº”ç”¨æ ·å¼
â”‚   â”œâ”€â”€ App.tsx                # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ index.css              # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ main.tsx               # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ types.ts               # å…¨å±€ç±»å‹å®šä¹‰
â”œâ”€â”€ .env                       # ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.example               # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ eslint.config.js           # ESLint é…ç½®
â”œâ”€â”€ index.html                 # HTML æ¨¡æ¿
â”œâ”€â”€ package.json               # å‰ç«¯åŒ…é…ç½®
â”œâ”€â”€ tsconfig.app.json          # åº”ç”¨ TS é…ç½®
â”œâ”€â”€ tsconfig.json              # ä¸» TS é…ç½®
â”œâ”€â”€ tsconfig.node.json         # Node TS é…ç½®
â””â”€â”€ vite.config.ts             # Vite é…ç½®
```

## ğŸš€ åç«¯é¡¹ç›® (server/)

```
server/
â”œâ”€â”€ database/                   # æ•°æ®åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ .gitkeep               # ä¿æŒç›®å½•
â”‚   â””â”€â”€ chat.db                # SQLite æ•°æ®åº“
â”œâ”€â”€ node_modules/               # åç«¯ä¾èµ–
â”œâ”€â”€ src/                        # æºä»£ç 
â”‚   â”œâ”€â”€ controllers/           # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ fileController.ts  # æ–‡ä»¶æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ messageController.ts # æ¶ˆæ¯æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ roomController.ts  # æˆ¿é—´æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ database/              # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ init.ts            # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ migrate.ts         # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ routes/                # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ fileRoutes.ts      # æ–‡ä»¶è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ messageRoutes.ts   # æ¶ˆæ¯è·¯ç”±
â”‚   â”‚   â””â”€â”€ roomRoutes.ts      # æˆ¿é—´è·¯ç”±
â”‚   â”œâ”€â”€ utils/                 # å·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ database.ts        # æ•°æ®åº“å·¥å…·
â”‚   â””â”€â”€ app.ts                 # åº”ç”¨å…¥å£
â”œâ”€â”€ uploads/                    # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”‚   â””â”€â”€ .gitkeep               # ä¿æŒç›®å½•
â”œâ”€â”€ .env                       # ç¯å¢ƒå˜é‡
â”œâ”€â”€ package.json               # åç«¯åŒ…é…ç½®
â””â”€â”€ tsconfig.json              # TypeScript é…ç½®
```

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### æ ¹ç›®å½•é…ç½®

- **package.json**: æ ¹ç›®å½•åŒ…é…ç½®ï¼ŒåŒ…å«å¹¶å‘å¯åŠ¨è„šæœ¬

### å‰ç«¯é…ç½®

- **vite.config.ts**: Vite æ„å»ºå·¥å…·é…ç½®
- **tsconfig.*.json**: TypeScript ç¼–è¯‘é…ç½®
- **eslint.config.js**: ä»£ç è´¨é‡æ£€æŸ¥é…ç½®
- **.env**: å¼€å‘ç¯å¢ƒå˜é‡

### åç«¯é…ç½®

- **tsconfig.json**: TypeScript ç¼–è¯‘é…ç½®
- **.env**: æœåŠ¡å™¨ç¯å¢ƒå˜é‡

## ğŸ“¦ ä¾èµ–ç®¡ç†

### Bun åŒ…ç®¡ç†

- ä½¿ç”¨ `bun install` å®‰è£…ä¾èµ–
- ç”Ÿæˆ `bun.lockb` é”æ–‡ä»¶
- æ”¯æŒ npm ç”Ÿæ€ç³»ç»Ÿ

### ä¾èµ–åˆ†å±‚

1. **æ ¹ç›®å½•**: å¼€å‘å·¥å…·ä¾èµ– (concurrently)
2. **å‰ç«¯**: React + Vite + TypeScript ç”Ÿæ€
3. **åç«¯**: Express + SQLite + TypeScript ç”Ÿæ€

## ğŸš€ å¯åŠ¨å‘½ä»¤

### å¼€å‘ç¯å¢ƒ

```bash
# ä¸€é”®è®¾ç½®
bun run setup

# åŒæ—¶å¯åŠ¨å‰åç«¯
bun run dev

# åˆ†åˆ«å¯åŠ¨
bun run client:dev  # å‰ç«¯å¼€å‘æœåŠ¡å™¨
bun run server:dev  # åç«¯å¼€å‘æœåŠ¡å™¨
```

### ç”Ÿäº§ç¯å¢ƒ

```bash
# æ„å»ºé¡¹ç›®
bun run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
bun start
```

## ğŸ—‚ï¸ æ–‡ä»¶ç±»å‹è¯´æ˜

### å·²åˆ é™¤çš„æ–‡ä»¶

- âŒ `package-lock.json` - npm é”æ–‡ä»¶ (å·²è¿ç§»åˆ° Bun)
- âŒ `dist/` ç›®å½• - æ„å»ºè¾“å‡º (ä¸´æ—¶æ–‡ä»¶)
- âŒ å¤šä½™çš„ `.env.*.example` - ç¯å¢ƒé…ç½®ç¤ºä¾‹
- âŒ é‡å¤çš„ `.gitignore` - å­ç›®å½•å¿½ç•¥æ–‡ä»¶
- âŒ é‡å¤çš„æ–‡æ¡£æ–‡ä»¶ - é¿å…ä¿¡æ¯å†—ä½™

### ä¿ç•™çš„æ–‡ä»¶

- âœ… æºä»£ç æ–‡ä»¶ (.ts, .tsx, .js)
- âœ… é…ç½®æ–‡ä»¶ (tsconfig.json, vite.config.ts)
- âœ… åŒ…é…ç½®æ–‡ä»¶ (package.json)
- âœ… ç¯å¢ƒå˜é‡æ–‡ä»¶ (.env, .env.example)
- âœ… æ–‡æ¡£æ–‡ä»¶ (.md)
- âœ… é™æ€èµ„æºæ–‡ä»¶

## ğŸ“‹ ç»´æŠ¤å»ºè®®

1. **å®šæœŸæ¸…ç†**: åˆ é™¤ `node_modules` å’Œé‡æ–°å®‰è£…ä¾èµ–
2. **ç‰ˆæœ¬æ§åˆ¶**: æäº¤ `bun.lockb` ç¡®ä¿ä¾èµ–ä¸€è‡´æ€§
3. **ç¯å¢ƒç®¡ç†**: ä½¿ç”¨ `.env` æ–‡ä»¶ç®¡ç†ä¸åŒç¯å¢ƒé…ç½®
4. **æ–‡æ¡£æ›´æ–°**: ä¿æŒ README.md å’Œç›¸å…³æ–‡æ¡£åŒæ­¥

---

**æ¸…ç†å®Œæˆæ—¶é—´**: 2024å¹´12æœˆ  
**é¡¹ç›®çŠ¶æ€**: âœ… å·²ä¼˜åŒ–ï¼Œç»“æ„æ¸…æ™°  
**åŒ…ç®¡ç†å™¨**: Bun 1.0+